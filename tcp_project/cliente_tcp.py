import socket
import sys


def connect(host, port, mensage):
    try:
        client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        client.connect((host, int(port)))
        client.send(mensage.encode())
        client.close()
        print("Message sent")
    except:
        print("Error, something is wrong")


if __name__ == "__main__":
    if len(sys.argv) == 4:
        connect(sys.argv[1], sys.argv[2], sys.argv[3])
    else:
        print("Usage: python client_tcp.py [ip address] [port] [message]")
